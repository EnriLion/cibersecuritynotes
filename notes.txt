--CibersercurityLinuxBasic--

--Diferences between grep and egrep--

--Using Sed to find a Replace--

*Search for the word mysql in the snort.conf file using grep, like so:*

$ cat /etc/snort/snort.conf | grep mysql

*Save the output in another file and  replace every occurence of mysql witth MySQL

$ sed /s/mysql/MySQL/g /etc/snort/snort.conf > snort2.conf

(Use sed to find an replace keyword and phrases)

/ = separated 
g =  globally
s = search
...................
s = search
%>> / mysql = we are searching mysql
%>>>>>>/MySQL = we are replacing with it

#Replace only the second occurence (word)

$ sed /s/mysql/MySQL/2 /etc/snort/snort.conf > snort2.conf

#For working  with scroll with larger files(more and less)

--Controlling the Display with more--

-> use "n" to highlight and search move between words

--usr/share/wordlist/metsaploit = directory of mutliple wordlist ( cand be used to brute force passwords in  various passowrd protected devices using Metasplit(most popular pentesting and hacking framework)

>>>>> there are not longer passwords.lst in the file instead of passwords is a tar file that contain more than 14 million passwords but you need to use gunzip to decompress the file to use it because is a long file of over 14 million passwords

Note: gunzip = Command reduces the size of named files to decompress it 

>>>>>> gunzip = is used to unzip files that have benn compressed with the gzip algorthm( lossless compression algorithm that reduces the size of a file without losing data)

>>>>>> tar -xvf = is used to extract only one or more files  and can be used to create list, and extract files from archives.

>> the difference betwen them is that gunzip extract everything and with that you could only extract one or do more.

--3-Analyzing and managing networks--

Understanding networking is crucial for any aspiring hacker( a good hacker nees to know how to connect to and interact with that network understanding:

Internet Protocol(IP)
Domain Name System(DNS)
Media Access Control(MAC) 
Network Interface Card(NIC)
Local Area Network(LAN)
Boradcast Addresss...


--Analyzing networks with ifconfig--

ifconfig - to get network information
output:
1)ethoLinkencap:EthernetHWaddr 00:0c29:ba:82:of 
2)inet addr:192.168.181.131 3)Bcast:192.168.181.255 4)Mask:255.255.255.0
5)lo Linkencap: Local Loopback
inet addr:127.0.0.1 Mask:255.0.0.0
--snip--
6)wlan0 Link encap:EthernetHWaddr 00:c0:ca:3f:ee:02
 IS short for Ethernet0( linux start counti at 0 rathern than 1) the ethener interfaces show up the same format(eth1, eth2 and so forth) and is listed followed by Haddr and the address is stamped on every piece of network NIC usually reffered to as the MAC address

2) contains the IP address is currently assigned to that network interface(192.168.131)

3)Broadcast Adress(Bcast) (address used to send out the information to all IPs on the subnet)

4)Network Mask(used to determine what part of the IP address is connected to the local network)

5)Is a short for loopback address and is sometimes called localhost(lo)(localhost is represented 127.0.0.1)

6)The third connectio is wlan0(appears only if we have a wirless interfaceor adapter, as I do here and also displays the MAC address of that device(HWaddr)

the infomration of ifconfign enables to connect and manipulate our local area network(LAN) settings and essential skill for hacking

--Checking wireless network devices with iwconfig--

iwconfig = to gather crucial information for wireless hacking such as IP, it's MAC address, what mode it's in, and more. The informaiton you can glean from this command is particularly important when you're using wireless hacking tools like aircrack-ng.

$ iwconfig 

wlano IEEE 8o2.11bg ESSID:off/any
Mode:Managed Access Point: Not Associated Tx-Power=20 dBm
--snip--
lo no wireless extensions

etho no wireless extensions

#the output tells us that the only network interface with wireless extensions is wlan0, which is what we would expect. Neither lo nor eth0 has any wireless extensions

#Our device wlan0 and says that the IEEE 8o1.11 is capable if b: and g, two early wirless communication standars and most wireless devices now include n  as well)n is the latest standard).

#and mode:Managed in constrat to monitor or promiscous mode, we'll need promiscous mode(cracking wireless passwords)

#we can see that the wireless adapter is not connected(Not Associated) to an Access Point(AP) and that its power is 20 dBm, which represent the strength of signal. We'll spend more time with  the chapter    .


--Changing your networkin Information--

A skill full ability is to being able to change your IP address for example ina denial-of-service(DoS) attack, and can spoof your IP so that the attack appears to come from another source, thus helping you evade IP capture during forensic analysis. This si a relatively simple task in Linux, and it's doen with the ifconfig 

--Changing your IPAddress--

ifconfig eth0 192.168.181.115

#Linux will sumply return the command prompt and say nothing that is a good thing that yout IP address has changed to new IP address you just assigned.

--Spoofing your MAC Address--

Is possible to change your mac address using  ifconfig as well this tehcnique is useful for bypassin network access controls.
to spoof you MAC address use the command down option to tkae down the interface(eth0)

Is possible to change your mac address using  ifconfig as well this tehcnique is useful for bypassin network access controls.
to spoof you MAC address use the command down option to tkae down the interface(eth0), then if command folllwed by the hw(hardware and thernet and the new spoofed address and finally we up option to change to tkae place:

$ ifconfig eth0 down

$ ifconfig eth0 hw ether 00:11:22:33:44:55
 
$ ifconfig eth0 up

and now check again ifconfig if has changed we could run it again.

--Assigning New Ip Addresses from the DHCP Server--

Linux has a dameon(a process that runs in the background) (dhcpd) of the Dymanic Host Configuration Protocol(DHCP).. is makes a great resource for forensic analysts to trace hackers with after an attack(it's useful to understand how the DHCP server, protocl works)

To request an IP address from DHCP, simply call the DHCP server with the command(dhclient) folowed by the interface you wnat the address assigned to different distributtion uses different clients but debian uses dhclient:

$ dhclient eth0

The dhclient command sends a DHCPDISCOVER request from the network interface specified(eht0) and then receives an offer(DHCPOFFER) from the DHCP server(192.168.182.131) and confirmst he Ip assignment the DHCP server with a dhcp request

$ ifconfig

Dependinf the configuraiton of the DHCP server the Ip address assigned in each case might be different.

--Manipulating the domain name system--

Hackers cand find a treasure trove of information on a target in it s Domain Name System(DNS); is a critical component of the internet, altough it's designed to translate domain names to IP addresses a hacker can use it to garner information on the target


-Examining-DNS-with-dig-

One of the most useful ommands for the aspiring hacker(dig) which offers a way together DNS about a target domain. The stored DNS inofmration can be a key piece of early reconnaissance to obtain before attacking.

For instance enter dig hackers-arise.com and add the ns option(nameserver). The nameserver for hackers-arise.com is displayed in the ANSWER SECTION:

$ dig hackers-arise.com ns

ADDITIONAL SECTION the query reveals the ip of the dns server sercing hackers-arise.com(this information is critical for attacks on email systems)( for exmpale info the ww... email servers is shown in the AUTHORITY SECTION


$ dig hackers-arise.com ns

; <<>> DiG 9.18.12-0ubuntu0.22.04.1-Ubuntu <<>> hackers-arise.com ns
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 42960
;; flags: qr rd ra; QUERY: 1, ANSWER: 2, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 65494
;; QUESTION SECTION:
;hackers-arise.com.		IN	NS

;; ANSWER SECTION:
hackers-arise.com.	21600	IN	NS	ns6.wixdns.net.
hackers-arise.com.	21600	IN	NS	ns7.wixdns.net.

;; Query time: 148 msec
;; SERVER: 127.0.0.53#53(127.0.0.53) (UDP)
;; WHEN: Thu May 25 16:48:01 CST 2023
;; MSG SIZE  rcvd: 92

#dg command to get information on email servers connected to a domain by adding the mx(mail exchange server) option. This information is critical for attacks on eamil systems; below shows the informations is critifical ofr attacks on email systems ( info of the wwws.hackers-arise.com email servers is shown in the AUTHORITY SECTION 

$ dig hackers-arise.com mx

--snip--

;; QUESTION SECTION:
;hackers-arise.com.		IN	MX

;; ANSWER SECTION:
hackers-arise.com.	3600	IN	MX	40 alt3.aspmx.l.google.com.
hackers-arise.com.	3600	IN	MX	30 alt2.aspmx.l.google.com.
hackers-arise.com.	3600	IN	MX	10 aspmx.l.google.com.
hackers-arise.com.	3600	IN	MX	50 alt4.aspmx.l.google.com.
hackers-arise.com.	3600	IN	MX	20 alt1.aspmx.l.google.com.

--snip--

The most common Linux DNS server is the Berkley Internet Name Domain(BIND). In some cases, Linux users will refer to DNS as BIND(DNS and BIND both map indindividual domain names to IP addresses)

--Changing your DNS Server-

vim /etc/resolv.conf (or wether editor you liked)

you could changed it with the DNS of google nameserver 8.8.8.8

we could achieved it as well as doing redirection i/o:

echo "nameserver 8.8.8.8" > /etc/resolv.conf

#Your system will got to the Google public DNS server to resolve domain names to IP addesses(domain names take a little longer to resolve(probably milisencods) therefore to maintain speed but keep the option of using a public server, you might want to retain the resolv.conf file and follow it with a DNS server

#Note: If you're using a DHCP address and the DHCP server provides a DNS setting, the DHCP server will replace the contents of the file when it renews the DHCP address

--Mapping your own ip addresses-

hosts file  = performs domain name(IP address translation) and is located at /etc/hosts and kind of as with DNS(you can use it to specify your own IP addresses - domain name mapping(can determine which IP address your browser goes in other domain in our browser. As a hacker this can be useful for hijacking a TCP connection on our lcoal area network to direct traffic to a malicious web server with a tool such(dnsspoof)

The hosts file contains only a mapping for your localhost, at 127.0.0.1 we can add IP address mapped to any domain we want. As an exapmle: we could map www.bankofamerica.com (192.168.181.131)


127.0.0.1	localhost
127.0.1.1	leon
192.168.181.131 bankofamerica.com

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters

The endeavors like dnsspoof and Ettercap to direct any traffic on your LAN(www.bankofamerica.com) to our web server

--Using apt to handle software--

-Searching for a Package-

$ apt-cache search keyword


--Adding repositories to your sources.lsit file--

$ vi /etc/apt/sources.list

Linux distributions divide repositories into separate categories like Ubuntu breaks out its repository as follows:

- main: contains supported open source software

- universe: contains community-maintained open source software

- multiverse: contains software restricted by copyright or other legal issues

- restricted: contains proprietary device drivers

- backports: contains package from later releases

To install oracle 8 we could do it by apt-get install oracle-java8-installer command but we need to add the necessary repositories:

deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main
debÂ­src http://ppa.launchpad.net/webupd8team/java/ubuntu precise main

---Chapter 5---

--Granting Permision--

The three levels of permission are as follows:

*r = permission to read. This grants permission only to view and edit a file

*w = permission to write. This allows users to view and edit a file

*x = permission to execute. Allows users to execute a file(not necessarily view or edit it)


--Granting Ownership to an Individual User--

chown(change owner)

$ chown bob /tmp/bosbfile (Grants the user account bob for Ownership)

--Granting Ownership to a Group--

chgrp( change group)

The root group needs access to the hacking tools, whereas the security folk only need access to defensive tools such as an intrusion dection system(IDS)

$ chgrp securiy newIDS

This command passes the securiy group, ownership of newIDS

--Checking permissions--

$ ls -l /usr/share/hashcat
